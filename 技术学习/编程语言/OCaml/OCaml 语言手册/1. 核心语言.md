
---

# 基本

对于 OCaml 的概述，我们使用交互式系统，该系统通过命令行运行 `ocaml` 来启动。本教程以交互式系统会话的记录形式来呈现：以 `#` 开头的行代表用户输入；系统响应在下面，不以 `#` 开头。

在交互式系统下，用户输入以 `#` 开头 `;;` 结尾的 OCaml 短语，系统即时进行编译、执行、并打印结果。短语要么是简单的表达式，要么是 `let` 定义的标识符（值或函数）。

```ocaml
# 1 + 2 * 3;;
- : int = 7
```

```ocaml
# let pi = 4.0 .* atan 1.0;;
val pi : float = 3.14159265358979312
```

```ocaml
# let square x = x *. x;;
val square : float -> float = <fun>
```

```ocaml
# square (sin pi) +. square (cos pi);;
- : float = 1.
```

OCaml 系统会计算每个短语的值和类型。函数参数不需要显式地声明类型，系统会根据它们在函数中的用法推断出它们的类型。需要注意的是，整数和浮点数是不同的类型，具有不同的运算符：整数运算使用 `+` 和 `*`，浮点数运算使用 `+.` 和 `*.` 。

```ocaml
# 1.0 * 2;;
Error: This expression has type float but an expression was expected of type int
```

递归函数的定义是通过 `let rec` 绑定的：

```ocaml
# let rec fib b =
    if n < 2 then n else fib (n - 1) + fib (n - 2);;
val fib : int -> int = <fun>
```

```ocaml
# fib 10;;
- : int = 55
```
