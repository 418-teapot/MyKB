---
style: manual
tags:
  - 正则表达式
---

# 简介

> 正则表达式是一种被用于从文本中检索符合某些特定模式的文本。

---

# 正文

## 基本匹配

大多数字母和符号都会简单地匹配自身。例如，正则表达式 `test` 将会精确地匹配到 `test` 。

## 元字符

元字符是正则表达式的基本组成元素。元字符在这里跟它通常表达的意思不一样，而是以某种特殊的含义去解释。

| 元字符                | 含义                                                                |
| --------------------- | ------------------------------------------------------------------- |
| `.`                   | 匹配除换行符以外的任意字符。                                        |
| `*`                   | 匹配前面的子表达式零次或多次。                                      |
| `+`                   | 匹配前面的子表达式一次或多次。                                      |
| `?`                   | 匹配前面的子表达式零次或一次。                                      |
| `^`                   | 匹配输入字符串的开始位置。                                          |
| `$`                   | 匹配输入字符串的结束位置。                                          |
| <code>&verbar;</code> | 分支结构，匹配符号之前的子表达式或后面的子表达式。                  |
| `\`                   | 转义字符。                                                          |
| `(pattern)`           | 匹配 pattern 并获取这一匹配的子字符串。                             |
| `(?:pattern)`         | 匹配 pattern 但不获取匹配的子字符串。                               |
| `[xyz]`               | 字符集合。匹配所包含的任意一个字符。                                |
| `[^xyz]`              | 排除型字符集合。匹配未列出的任意字符。                              |
| `[a-z]`               | 字符范围。匹配在 Unicode 编码表指定范围内的任意字符。               |
| `[^a-z]`              | 排除型的字符范围。匹配任何不在 Unicode 编码表指定范围内的任意字符。 | 
| `{n}`                 | 匹配前面的子表达式 n 次。                                           |
| `{n,}`                | 匹配前面的子表达式至少 n 次。                                       |
| `{,m}`                | 匹配前面的子表达式至多 m 次。                                       |
| `{n,m}`               | 匹配前面的子表达式至少 n 次，至多 m 次。                            |

## 简写字符

正则表达式为常用的字符集和常用的正则表达式提供了简写。

| 简写字符 | 含义                                                      |
| -------- | --------------------------------------------------------- |
| `.`      | 匹配除换行符以外的任意字符。                              |
| `\w`     | 匹配任何字母与数字字符，等价于字符类 `[a-zA-Z0-9_]` 。    |
| `\W`     | 匹配任何非字母与数字字符，等价于字符类 `[^a-zA-Z0-9_]` 。 |
| `\d`     | 匹配任何十进制数字，等价于字符类 `[0-9]` 。               |
| `\D`     | 匹配任何非数字字符，等价于字符类 `[^0-9]` 。              |
| `\s`     | 匹配任何空白字符，等价于字符类 `[ \t\n\r\f\v]` 。         |
| `\S`     | 匹配任何非空白字符，等价于字符类 `[^ \t\n\r\f\v]` 。      | 

## 断言

断言是特殊类型的非捕获组（用于匹配模式，但不包括在匹配列表中）。当我们在一种特定模式之前或者之后有这种模式时，会优先使用断言。

| 断言           | 含义                                                            |
| -------------- | --------------------------------------------------------------- |
| `(?=pattern)`  | 正向肯定断言，在任何匹配 pattern 的字符串开始处匹配查找字符串。 |
| `(?!pattern)`  | 正向否定断言，在任何不匹配 pattern 的字符串开始处匹配查找字符串。 |
| `(?<=pattern)` | 反向肯定断言，与正向肯定断言类似，只是方向相反。                |
| `(?<!pattern)` | 反向否定断言，与正向否定断言类似，只是方向相反。                | 

### 示例

- 正向肯定断言：`Windows(?=95|98|NT|2000)` 能匹配 `Windows2000` 中的 `Windows`，但不能匹配 `Windows3.1` 中的 `Windows`。
- 正向否定断言：`Windows(?!95|98|NT|2000)` 能匹配 `Windows3.1` 中的 `Windows`，但不能匹配 `Windows2000` 中的 `Windows`。
- 反向肯定断言：`(?<=95|98|NT|2000)Windows` 能匹配 `2000Windows` 中的 `Windows`，但不能匹配 `3.1Windows` 中的 `Windows`。
- 反向否定断言：例如 `(?<!95|98|NT|2000)Windows` 能匹配 `3.1Windows` 中的 `Windows`，但不能匹配 `2000Windows` 中的 `Windows`。

---

# 引用

- [正则表达式](https://zh.wikipedia.org/wiki/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F)
- [正则表达式语言 - 快速参考](https://learn.microsoft.com/zh-cn/dotnet/standard/base-types/regular-expression-language-quick-reference)
- [正则表达式指南](https://docs.python.org/zh-cn/3.13/howto/regex.html)
- [学习正则表达式的简单方法](https://github.com/cdoco/learn-regex-zh)
